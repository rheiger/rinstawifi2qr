import { Language } from '../types';

type TranslationKey =
  | 'heroTitle'
  | 'heroSubtitle'
  | 'networkDetails'
  | 'ssidLabel'
  | 'ssidPlaceholder'
  | 'securityLabel'
  | 'passwordLabel'
  | 'hiddenLabel'
  | 'howItWorks'
  | 'howItWorksSteps'
  | 'enterDetails'
  | 'welcomeCard'
  | 'welcomePlaceholder'
  | 'generate'
  | 'saveImage'
  | 'printCard'
  | 'paperSize'
  | 'cardsPerPage'
  | 'languagesLabel'
  | 'passwordShown'
  | 'hiddenNetwork'
  | 'footerText'
  | 'ideaBy';

type TranslationMap = Record<TranslationKey, string | string[]>;

export const translations: Record<Language, TranslationMap> = {
  en: {
    heroTitle: 'Share your Wiâ€‘Fi instantly.',
    heroSubtitle: 'Create a QR code for your guests to connect without typing long passwords. Customize your welcome card.',
    networkDetails: 'Network Details',
    ssidLabel: 'Network Name (SSID)',
    ssidPlaceholder: 'e.g., MyHomeWifi',
    securityLabel: 'Security Type',
    passwordLabel: 'Password',
    hiddenLabel: 'Hidden Network',
    howItWorks: 'How it works',
    howItWorksSteps: [
      'Enter your Wiâ€‘Fi details exactly as on your router.',
      'Use your camera to scan the generated QR code.',
      'Most modern iOS and Android cameras support this.',
      'Your password stays in your browser; it is never uploaded.',
    ],
    enterDetails: 'Enter network details to generate QR code',
    welcomeCard: 'Welcome Card',
    welcomePlaceholder: 'Generate a unique welcome message for your guests...',
    generate: 'Generate Welcome Message',
    saveImage: 'Save Image',
    printCard: 'Print Card',
    paperSize: 'Paper size',
    cardsPerPage: 'Cards per page',
    languagesLabel: 'Languages (max 4)',
    passwordShown: 'Password',
    hiddenNetwork: 'Hidden network',
    footerText: 'Designed for easy connectivity.',
    ideaBy: 'Idea by',
  },
  de: {
    heroTitle: 'Teile dein WLAN sofort.',
    heroSubtitle: 'Erstelle einen QR-Code, damit GÃ¤ste ohne Tippen verbinden. Gestalte deine Willkommenskarte.',
    networkDetails: 'Netzwerkdetails',
    ssidLabel: 'Netzwerkname (SSID)',
    ssidPlaceholder: 'z. B. MeinWLAN',
    securityLabel: 'Sicherheitsart',
    passwordLabel: 'Passwort',
    hiddenLabel: 'Verstecktes Netzwerk',
    howItWorks: 'So funktioniert es',
    howItWorksSteps: [
      'Trage deine WLAN-Daten exakt wie am Router ein.',
      'Nutze die Kamera, um den QR-Code zu scannen.',
      'Moderne iOS- und Android-Kameras unterstÃ¼tzen das.',
      'Dein Passwort bleibt im Browser und wird nie hochgeladen.',
    ],
    enterDetails: 'Gib die Netzwerkdaten ein, um den QR-Code zu erzeugen',
    welcomeCard: 'Willkommenskarte',
    welcomePlaceholder: 'Erzeuge eine kurze Willkommensnachricht...',
    generate: 'Nachricht erstellen',
    saveImage: 'Bild speichern',
    printCard: 'Karte drucken',
    paperSize: 'Papierformat',
    cardsPerPage: 'Karten pro Seite',
    languagesLabel: 'Sprachen (max. 4)',
    passwordShown: 'Passwort',
    hiddenNetwork: 'Verstecktes Netzwerk',
    footerText: 'FÃ¼r einfache Verbindungen gemacht.',
    ideaBy: 'Idee von',
  },
  fr: {
    heroTitle: 'Partage ton Wiâ€‘Fi instantanÃ©ment.',
    heroSubtitle: 'CrÃ©e un QR code pour que tes invitÃ©s se connectent sans taper. Personnalise ta carte de bienvenue.',
    networkDetails: 'DÃ©tails du rÃ©seau',
    ssidLabel: 'Nom du rÃ©seau (SSID)',
    ssidPlaceholder: 'ex. MaisonWifi',
    securityLabel: 'Type de sÃ©curitÃ©',
    passwordLabel: 'Mot de passe',
    hiddenLabel: 'RÃ©seau masquÃ©',
    howItWorks: 'Comment Ã§a marche',
    howItWorksSteps: [
      'Entre tes informations Wiâ€‘Fi comme sur le routeur.',
      'Scanne le QR code avec ton appareil photo.',
      'La plupart des appareils iOS/Android le supportent.',
      'Ton mot de passe reste dans le navigateur, jamais envoyÃ©.',
    ],
    enterDetails: 'Saisis les infos rÃ©seau pour gÃ©nÃ©rer le QR code',
    welcomeCard: 'Carte de bienvenue',
    welcomePlaceholder: 'GÃ©nÃ¨re un message dâ€™accueil...',
    generate: 'GÃ©nÃ©rer le message',
    saveImage: 'Enregistrer lâ€™image',
    printCard: 'Imprimer la carte',
    paperSize: 'Format papier',
    cardsPerPage: 'Cartes par page',
    languagesLabel: 'Langues (max 4)',
    passwordShown: 'Mot de passe',
    hiddenNetwork: 'RÃ©seau masquÃ©',
    footerText: 'ConÃ§u pour une connexion facile.',
    ideaBy: 'IdÃ©e de',
  },
  it: {
    heroTitle: 'Condividi il Wiâ€‘Fi allâ€™istante.',
    heroSubtitle: 'Crea un QR code per i tuoi ospiti senza digitare password. Personalizza la card di benvenuto.',
    networkDetails: 'Dettagli rete',
    ssidLabel: 'Nome rete (SSID)',
    ssidPlaceholder: 'es. CasaWifi',
    securityLabel: 'Tipo di sicurezza',
    passwordLabel: 'Password',
    hiddenLabel: 'Rete nascosta',
    howItWorks: 'Come funziona',
    howItWorksSteps: [
      'Inserisci i dati Wiâ€‘Fi esattamente come sul router.',
      'Usa la fotocamera per scansionare il QR code.',
      'La maggior parte dei dispositivi iOS/Android lo supporta.',
      'La password resta nel browser, mai caricata altrove.',
    ],
    enterDetails: 'Inserisci i dettagli della rete per generare il QR code',
    welcomeCard: 'Card di benvenuto',
    welcomePlaceholder: 'Genera un messaggio di benvenuto...',
    generate: 'Genera messaggio',
    saveImage: 'Salva immagine',
    printCard: 'Stampa card',
    paperSize: 'Formato carta',
    cardsPerPage: 'Card per pagina',
    languagesLabel: 'Lingue (max 4)',
    passwordShown: 'Password',
    hiddenNetwork: 'Rete nascosta',
    footerText: 'Pensato per connetterti facilmente.',
    ideaBy: 'Idea di',
  },
  es: {
    heroTitle: 'Comparte tu Wiâ€‘Fi al instante.',
    heroSubtitle: 'Crea un cÃ³digo QR para que tus invitados se conecten sin escribir. Personaliza la tarjeta de bienvenida.',
    networkDetails: 'Datos de la red',
    ssidLabel: 'Nombre de red (SSID)',
    ssidPlaceholder: 'ej. MiCasaWifi',
    securityLabel: 'Tipo de seguridad',
    passwordLabel: 'ContraseÃ±a',
    hiddenLabel: 'Red oculta',
    howItWorks: 'CÃ³mo funciona',
    howItWorksSteps: [
      'Introduce tus datos Wiâ€‘Fi tal como estÃ¡n en el router.',
      'Usa la cÃ¡mara para escanear el cÃ³digo QR.',
      'La mayorÃ­a de iOS y Android lo soportan.',
      'Tu contraseÃ±a se queda en el navegador; nunca se sube.',
    ],
    enterDetails: 'Introduce los datos de la red para generar el cÃ³digo QR',
    welcomeCard: 'Tarjeta de bienvenida',
    welcomePlaceholder: 'Genera un mensaje de bienvenida...',
    generate: 'Generar mensaje',
    saveImage: 'Guardar imagen',
    printCard: 'Imprimir tarjeta',
    paperSize: 'TamaÃ±o de papel',
    cardsPerPage: 'Tarjetas por pÃ¡gina',
    languagesLabel: 'Idiomas (mÃ¡x. 4)',
    passwordShown: 'ContraseÃ±a',
    hiddenNetwork: 'Red oculta',
    footerText: 'DiseÃ±ado para conectar fÃ¡cilmente.',
    ideaBy: 'Idea de',
  },
  pt: {
    heroTitle: 'Compartilhe seu Wiâ€‘Fi na hora.',
    heroSubtitle: 'Crie um QR code para convidados se conectarem sem digitar. Personalize o cartÃ£o de boas-vindas.',
    networkDetails: 'Detalhes da rede',
    ssidLabel: 'Nome da rede (SSID)',
    ssidPlaceholder: 'ex.: MinhaCasaWifi',
    securityLabel: 'Tipo de seguranÃ§a',
    passwordLabel: 'Senha',
    hiddenLabel: 'Rede oculta',
    howItWorks: 'Como funciona',
    howItWorksSteps: [
      'Digite os dados do Wiâ€‘Fi exatamente como no roteador.',
      'Use a cÃ¢mera para ler o QR code gerado.',
      'A maioria dos iOS/Android Ã© compatÃ­vel.',
      'Sua senha fica no navegador; nunca Ã© enviada.',
    ],
    enterDetails: 'Insira os dados da rede para gerar o QR code',
    welcomeCard: 'CartÃ£o de boas-vindas',
    welcomePlaceholder: 'Gere uma mensagem de boas-vindas...',
    generate: 'Gerar mensagem',
    saveImage: 'Salvar imagem',
    printCard: 'Imprimir cartÃ£o',
    paperSize: 'Tamanho do papel',
    cardsPerPage: 'CartÃµes por pÃ¡gina',
    languagesLabel: 'Idiomas (mÃ¡x. 4)',
    passwordShown: 'Senha',
    hiddenNetwork: 'Rede oculta',
    footerText: 'Feito para conectar com facilidade.',
    ideaBy: 'Ideia de',
  },
  pl: {
    heroTitle: 'UdostÄ™pnij Wiâ€‘Fi natychmiast.',
    heroSubtitle: 'UtwÃ³rz kod QR, aby goÅ›cie Å‚Ä…czyli siÄ™ bez wpisywania haseÅ‚. Spersonalizuj kartÄ™ powitalnÄ….',
    networkDetails: 'SzczegÃ³Å‚y sieci',
    ssidLabel: 'Nazwa sieci (SSID)',
    ssidPlaceholder: 'np. MojaSiec',
    securityLabel: 'Rodzaj zabezpieczeÅ„',
    passwordLabel: 'HasÅ‚o',
    hiddenLabel: 'Ukryta sieÄ‡',
    howItWorks: 'Jak to dziaÅ‚a',
    howItWorksSteps: [
      'Wpisz dane Wiâ€‘Fi dokÅ‚adnie jak na routerze.',
      'UÅ¼yj aparatu, by zeskanowaÄ‡ kod QR.',
      'WiÄ™kszoÅ›Ä‡ urzÄ…dzeÅ„ iOS/Android to obsÅ‚uguje.',
      'HasÅ‚o zostaje w przeglÄ…darce; nie jest wysyÅ‚ane.',
    ],
    enterDetails: 'Podaj dane sieci, aby wygenerowaÄ‡ kod QR',
    welcomeCard: 'Karta powitalna',
    welcomePlaceholder: 'Wygeneruj krÃ³tkÄ… wiadomoÅ›Ä‡ powitalnÄ…...',
    generate: 'Generuj wiadomoÅ›Ä‡',
    saveImage: 'Zapisz obraz',
    printCard: 'Drukuj kartÄ™',
    paperSize: 'Format papieru',
    cardsPerPage: 'Kart na stronÄ™',
    languagesLabel: 'JÄ™zyki (max 4)',
    passwordShown: 'HasÅ‚o',
    hiddenNetwork: 'Ukryta sieÄ‡',
    footerText: 'Stworzone dla Å‚atwego Å‚Ä…czenia.',
    ideaBy: 'PomysÅ‚:',
  },
  sk: {
    heroTitle: 'ZdieÄ¾aj Wiâ€‘Fi okamÅ¾ite.',
    heroSubtitle: 'Vytvor QR kÃ³d, aby sa hostia pripojili bez pÃ­sania hesla. Vytvor uvÃ­taciu kartu.',
    networkDetails: 'Detaily siete',
    ssidLabel: 'NÃ¡zov siete (SSID)',
    ssidPlaceholder: 'napr. MojaSiet',
    securityLabel: 'Typ zabezpeÄenia',
    passwordLabel: 'Heslo',
    hiddenLabel: 'SkrytÃ¡ sieÅ¥',
    howItWorks: 'Ako to funguje',
    howItWorksSteps: [
      'Zadaj Wiâ€‘Fi Ãºdaje presne ako na routeri.',
      'PouÅ¾i fotoaparÃ¡t na skenovanie QR kÃ³du.',
      'VÃ¤ÄÅ¡ina iOS/Android to podporuje.',
      'Heslo zostÃ¡va v prehliadaÄi; neposiela sa.',
    ],
    enterDetails: 'Zadaj Ãºdaje siete pre generovanie QR kÃ³du',
    welcomeCard: 'UvÃ­tacia karta',
    welcomePlaceholder: 'Vygeneruj uvÃ­taciu sprÃ¡vu...',
    generate: 'VygenerovaÅ¥ sprÃ¡vu',
    saveImage: 'UloÅ¾iÅ¥ obrÃ¡zok',
    printCard: 'VytlaÄiÅ¥ kartu',
    paperSize: 'FormÃ¡t papiera',
    cardsPerPage: 'Kariet na strÃ¡nku',
    languagesLabel: 'Jazyky (max 4)',
    passwordShown: 'Heslo',
    hiddenNetwork: 'SkrytÃ¡ sieÅ¥',
    footerText: 'NavrhnutÃ© pre jednoduchÃ© pripojenie.',
    ideaBy: 'NÃ¡pad:',
  },
  nl: {
    heroTitle: 'Deel je wifi direct.',
    heroSubtitle: 'Maak een QR-code zodat gasten zonder typen verbinden. Personaliseer je welkomstkaart.',
    networkDetails: 'Netwerkdetails',
    ssidLabel: 'Netwerknaam (SSID)',
    ssidPlaceholder: 'bijv. ThuisWifi',
    securityLabel: 'Beveiligingstype',
    passwordLabel: 'Wachtwoord',
    hiddenLabel: 'Verborgen netwerk',
    howItWorks: 'Zo werkt het',
    howItWorksSteps: [
      'Vul je wifi-gegevens in zoals op de router.',
      'Gebruik de camera om de QR-code te scannen.',
      'De meeste iOS/Android-cameraâ€™s ondersteunen dit.',
      'Je wachtwoord blijft in de browser; wordt niet geÃ¼pload.',
    ],
    enterDetails: 'Voer netwerkgegevens in om de QR-code te maken',
    welcomeCard: 'Welkomstkaart',
    welcomePlaceholder: 'Genereer een welkomstboodschap...',
    generate: 'Bericht genereren',
    saveImage: 'Afbeelding opslaan',
    printCard: 'Kaart afdrukken',
    paperSize: 'Papierformaat',
    cardsPerPage: 'Kaarten per pagina',
    languagesLabel: 'Talen (max 4)',
    passwordShown: 'Wachtwoord',
    hiddenNetwork: 'Verborgen netwerk',
    footerText: 'Gemaakt voor makkelijk verbinden.',
    ideaBy: 'Idee van',
  },
  dk: {
    heroTitle: 'Del dit wifi med det samme.',
    heroSubtitle: 'Lav en QR-kode sÃ¥ gÃ¦ster kan forbinde uden at taste. Tilpas velkomstkortet.',
    networkDetails: 'NetvÃ¦rksdetaljer',
    ssidLabel: 'NetvÃ¦rksnavn (SSID)',
    ssidPlaceholder: 'fx MitWifi',
    securityLabel: 'Sikkerhedstype',
    passwordLabel: 'Adgangskode',
    hiddenLabel: 'Skjult netvÃ¦rk',
    howItWorks: 'SÃ¥dan fungerer det',
    howItWorksSteps: [
      'Indtast wifi-oplysningerne som pÃ¥ din router.',
      'Brug kameraet til at scanne QR-koden.',
      'De fleste iOS/Android understÃ¸tter det.',
      'Adgangskoden forbliver i browseren; uploades ikke.',
    ],
    enterDetails: 'Indtast netvÃ¦rksdetaljer for at lave QR-kode',
    welcomeCard: 'Velkomstkort',
    welcomePlaceholder: 'Lav en kort velkomsthilsen...',
    generate: 'GenerÃ©r hilsen',
    saveImage: 'Gem billede',
    printCard: 'Print kort',
    paperSize: 'PapirstÃ¸rrelse',
    cardsPerPage: 'Kort pr. side',
    languagesLabel: 'Sprog (maks 4)',
    passwordShown: 'Adgangskode',
    hiddenNetwork: 'Skjult netvÃ¦rk',
    footerText: 'Skabt til nem tilslutning.',
    ideaBy: 'IdÃ© fra',
  },
  no: {
    heroTitle: 'Del Wiâ€‘Fi med en gang.',
    heroSubtitle: 'Lag en QR-kode sÃ¥ gjester kan koble pÃ¥ uten Ã¥ taste. Tilpass velkomstkortet.',
    networkDetails: 'Nettverksdetaljer',
    ssidLabel: 'Nettverksnavn (SSID)',
    ssidPlaceholder: 'f.eks. HjemmeWifi',
    securityLabel: 'Sikkerhetstype',
    passwordLabel: 'Passord',
    hiddenLabel: 'Skjult nettverk',
    howItWorks: 'Slik fungerer det',
    howItWorksSteps: [
      'Legg inn wifi-detaljene slik de stÃ¥r pÃ¥ ruteren.',
      'Bruk kameraet til Ã¥ skanne QR-koden.',
      'De fleste iOS/Android stÃ¸tter dette.',
      'Passordet blir i nettleseren og lastes ikke opp.',
    ],
    enterDetails: 'Skriv inn nettverksdetaljer for Ã¥ lage QR-kode',
    welcomeCard: 'Velkomstkort',
    welcomePlaceholder: 'Lag en kort velkomsthilsen...',
    generate: 'Generer hilsen',
    saveImage: 'Lagre bilde',
    printCard: 'Skriv ut kort',
    paperSize: 'PapirstÃ¸rrelse',
    cardsPerPage: 'Kort per side',
    languagesLabel: 'SprÃ¥k (maks 4)',
    passwordShown: 'Passord',
    hiddenNetwork: 'Skjult nettverk',
    footerText: 'Laget for enkel tilkobling.',
    ideaBy: 'IdÃ© av',
  },
  se: {
    heroTitle: 'Dela ditt wifi direkt.',
    heroSubtitle: 'Skapa en QR-kod sÃ¥ gÃ¤ster kan ansluta utan att skriva. Anpassa vÃ¤lkomstkortet.',
    networkDetails: 'NÃ¤tverksdetaljer',
    ssidLabel: 'NÃ¤tverksnamn (SSID)',
    ssidPlaceholder: 't.ex. HemmaWifi',
    securityLabel: 'SÃ¤kerhetstyp',
    passwordLabel: 'LÃ¶senord',
    hiddenLabel: 'Dolt nÃ¤tverk',
    howItWorks: 'SÃ¥ funkar det',
    howItWorksSteps: [
      'Ange wifiâ€‘uppgifterna precis som pÃ¥ routern.',
      'AnvÃ¤nd kameran fÃ¶r att skanna QR-koden.',
      'De flesta iOS/Android stÃ¶der detta.',
      'LÃ¶senordet stannar i webblÃ¤saren; laddas inte upp.',
    ],
    enterDetails: 'Ange nÃ¤tverksuppgifter fÃ¶r att skapa QR-kod',
    welcomeCard: 'VÃ¤lkomstkort',
    welcomePlaceholder: 'Skapa ett vÃ¤lkomstmeddelande...',
    generate: 'Skapa meddelande',
    saveImage: 'Spara bild',
    printCard: 'Skriv ut kort',
    paperSize: 'Pappersstorlek',
    cardsPerPage: 'Kort per sida',
    languagesLabel: 'SprÃ¥k (max 4)',
    passwordShown: 'LÃ¶senord',
    hiddenNetwork: 'Dolt nÃ¤tverk',
    footerText: 'Gjort fÃ¶r enkel uppkoppling.',
    ideaBy: 'IdÃ© av',
  },
  fi: {
    heroTitle: 'Jaa Wiâ€‘Fi heti.',
    heroSubtitle: 'Luo QR-koodi, jotta vieraat voivat liittyÃ¤ ilman kirjoittamista. RÃ¤Ã¤tÃ¤lÃ¶i tervetulokortti.',
    networkDetails: 'Verkon tiedot',
    ssidLabel: 'Verkon nimi (SSID)',
    ssidPlaceholder: 'esim. KotiWifi',
    securityLabel: 'Suojaustyyppi',
    passwordLabel: 'Salasana',
    hiddenLabel: 'Piilotettu verkko',
    howItWorks: 'NÃ¤in se toimii',
    howItWorksSteps: [
      'SyÃ¶tÃ¤ Wiâ€‘Fi-tiedot tÃ¤smÃ¤lleen kuten reitittimessÃ¤.',
      'KÃ¤ytÃ¤ kameraa QR-koodin skannaamiseen.',
      'Useimmat iOS/Android-laitteet tukevat tÃ¤tÃ¤.',
      'Salasana pysyy selaimessa; sitÃ¤ ei lÃ¤hetetÃ¤.',
    ],
    enterDetails: 'SyÃ¶tÃ¤ verkon tiedot QR-koodin luomiseen',
    welcomeCard: 'Tervetulokortti',
    welcomePlaceholder: 'Luo lyhyt tervetulotoivotus...',
    generate: 'Luo viesti',
    saveImage: 'Tallenna kuva',
    printCard: 'Tulosta kortti',
    paperSize: 'Paperikoko',
    cardsPerPage: 'Korttia per sivu',
    languagesLabel: 'Kielet (enint. 4)',
    passwordShown: 'Salasana',
    hiddenNetwork: 'Piilotettu verkko',
    footerText: 'Suunniteltu helppoon yhdistÃ¤miseen.',
    ideaBy: 'Idea:',
  },
};

export const languageOptions: { code: Language; label: string; flag: string }[] = [
  { code: 'en', label: 'English', flag: 'ðŸ‡¬ðŸ‡§' },
  { code: 'de', label: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },
  { code: 'fr', label: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' },
  { code: 'it', label: 'Italiano', flag: 'ðŸ‡®ðŸ‡¹' },
  { code: 'es', label: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },
  { code: 'pt', label: 'PortuguÃªs', flag: 'ðŸ‡µðŸ‡¹' },
  { code: 'pl', label: 'Polski', flag: 'ðŸ‡µðŸ‡±' },
  { code: 'sk', label: 'SlovenÄina', flag: 'ðŸ‡¸ðŸ‡°' },
  { code: 'nl', label: 'Nederlands', flag: 'ðŸ‡³ðŸ‡±' },
  { code: 'dk', label: 'Dansk', flag: 'ðŸ‡©ðŸ‡°' },
  { code: 'no', label: 'Norsk', flag: 'ðŸ‡³ðŸ‡´' },
  { code: 'se', label: 'Svenska', flag: 'ðŸ‡¸ðŸ‡ª' },
  { code: 'fi', label: 'Suomi', flag: 'ðŸ‡«ðŸ‡®' },
];

export const t = (lang: Language, key: TranslationKey) => {
  const set = translations[lang] || translations.en;
  const value = set[key] ?? translations.en[key];
  return value;
};

export const detectLanguage = (): Language => {
  if (typeof navigator === 'undefined') return 'en';
  const pref = navigator.language?.toLowerCase() || 'en';
  const short = pref.split('-')[0];
  const available = languageOptions.map((l) => l.code);
  if (available.includes(short as Language)) {
    return short as Language;
  }
  return 'en';
};
